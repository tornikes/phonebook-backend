{"version":3,"sources":["components/SearchFilter.js","components/PersonForm.js","components/Person.js","components/PersonList.js","service.js","App.js","index.js"],"names":["filterText","handleFilterChange","type","value","onChange","newName","handleChange","newNumber","handleNumber","handleSubmit","onSubmit","name","number","onDelete","onClick","confirm","persons","map","person","Person","key","id","baseUrl","fetchAll","axios","get","then","res","data","addPerson","post","deletePerson","delete","updatePerson","newPerson","put","Notification","message","isError","className","App","useState","setPersons","setNewName","setNewNumber","setFilterText","notication","setNotification","errorMsg","setErrormsg","useEffect","service","SearchFilter","e","target","PersonForm","preventDefault","p","find","pers","console","log","pe","setTimeout","catch","err","filter","PersonList","length","regex","RegExp","test","applyFilter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d7af114.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function({ filterText, handleFilterChange }) {\n    return (\n        <p>\n            filter shown with <input type=\"text\" value={filterText} onChange={handleFilterChange} />\n        </p>\n    );\n}\n","import React from 'react';\n\nexport default function({ newName, handleChange, newNumber, handleNumber, handleSubmit }) {\n    return (\n        <form onSubmit={handleSubmit}>\n            <h2>Add new</h2>\n            <div>\n                name: <input value={newName} onChange={handleChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n}\n","import React from 'react';\n\nexport default function({ name, number, onDelete }) {\n    // eslint-disable-next-line no-restricted-globals\n    return <p>{name} -- {number} <button onClick={() => confirm(`Delete ${name}?`) && onDelete()}>Delete</button></p>\n}\n","import React from 'react';\nimport Person from './Person';\n\nexport default function({ persons, onDelete }) {\n    return (\n        <div>\n            {persons.map(person => (\n                <Person key={person.name} {...person} onDelete={() => onDelete(person.id)} />\n            ))}\n        </div>\n    );\n}\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nfunction fetchAll() {\n    return axios.get(`${baseUrl}`)\n        .then(res => res.data);\n}\n\nfunction addPerson(person) {\n    return axios.post(baseUrl, person).then(res => res.data);\n}\n\nfunction deletePerson(id) {\n    return axios.delete(`${baseUrl}/${id}`);\n}\n\nfunction updatePerson(id, newPerson) {\n    return axios.put(`${baseUrl}/${id}`, newPerson).then(res => res.data);\n}\n\nexport default { fetchAll, addPerson, deletePerson, updatePerson }","import React, { useState, useEffect } from 'react'\nimport SearchFilter from './components/SearchFilter';\nimport PersonForm from './components/PersonForm';\nimport PersonList from './components/PersonList';\nimport service from './service';\n\nconst Notification = ({ message, isError = false }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={isError ? 'error' : 'notific'}>\n            {message}\n        </div>\n    )\n}\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([\n        { name: 'Arto Hellas', number: '202-230-230' }\n    ]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterText, setFilterText] = useState('');\n    const [notication, setNotification] = useState(null);\n    const [errorMsg, setErrormsg] = useState(null);\n\n    useEffect(() => {\n        service.fetchAll()\n            .then(data => setPersons(data.persons));\n    }, []);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const p = persons.find(p => p.name === newName);\n        if (!p) {\n            service.addPerson({ name: newName, number: newNumber })\n                .then(person => {\n                    setPersons([...persons, person]);\n                    setNotification(`Added ${person.name}`);\n                    setTimeout(() => {\n                        setNotification(null);\n                    }, 5000);\n                });\n            setNewName('');\n            setNewNumber('');\n        } else {\n            // eslint-disable-next-line no-restricted-globals\n            if (confirm(`${p.name} is alreay added to the phonebook, replace the old number with a new one?`)) {\n                const pers = { ...p, number: newNumber };\n                service.updatePerson(p.id, pers)\n                    .then(data => {\n                        console.log(data);\n                        setPersons(persons.map(pe => pe.id === p.id ? data : pe));\n                        setNewName('');\n                        setNewNumber('');\n                        setNotification(`Updated ${data.name}`);\n                        setTimeout(() => {\n                            setNotification(null);\n                        }, 5000);\n                    })\n                    .catch(err => {\n                        setErrormsg(`Information about ${pers.name} has already been removed from the server.`);\n                        setPersons(persons.filter(pe => p.id !== pe.id));\n                        setTimeout(() => {\n                            setErrormsg(null);\n                        }, 5000);\n                    });\n            }\n        }\n    }\n\n    function handleDeletion(id) {\n        service\n            .deletePerson(id)\n            .then(() => {\n                setPersons(persons.filter(p => p.id !== id));\n            });\n    }\n\n    function handleChange(e) {\n        setNewName(e.target.value);\n    }\n\n    function handleNumber(e) {\n        setNewNumber(e.target.value);\n    }\n\n    function handleFilterChange(e) {\n        setFilterText(e.target.value);\n    }\n\n    function applyFilter() {\n        if (filterText.length) {\n            const regex = new RegExp(filterText, 'i');\n            return persons.filter(p => regex.test(p.name));\n        } else {\n            return persons;\n        }\n    }\n\n    return (\n        <div>\n            <Notification message={notication} />\n            <Notification message={errorMsg} isError />\n            <h2>Phonebook</h2>\n            <SearchFilter filterText={filterText} handleFilterChange={handleFilterChange} />\n            <PersonForm\n                newName={newName}\n                handleChange={handleChange}\n                newNumber={newNumber}\n                handleNumber={handleNumber}\n                handleSubmit={handleSubmit}\n            />\n            <h2>Numbers</h2>\n            <PersonList\n                persons={applyFilter()}\n                onDelete={handleDeletion}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}